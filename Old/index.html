<!DOCTYPE html>
<html>
<head>
    <title>JayScrum - Agile Task Manager</title>
    <meta charset="utf-8" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />

    <!-- FAVICONS -->
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="Images/icons/iphone4.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="Images/icons/ipad.png" />
    <link rel="apple-touch-icon-precomposed" href="Images/icons/android.png" />
    <link rel=" icon" href="Images/icons/jayscrum_favicon_32x32.png" />
    <!--[if IE]><link rel="shortcut icon" href="Images/icons/jayscrum_favicon_32x32.png"><![endif]-->
    <!-- IE 10 -->
    <meta name="msapplication-TileColor" content="#1e1f20" />
    <meta name="msapplication-TileImage" content="Images/icons/jayscrum_favicon_win8.png" />

    <link rel="stylesheet" href="Styles/metro.css" type="text/css" />

    <!-- lt IE 10 -->
    <!--[if IE]>
        <script  type="text/javascript" src="scripts/libs/jquery-1.9.0.min.js"></script>
    <![endif]-->
    
    <script type="text/javascript">
        var isIE10 = navigator.userAgent.toLowerCase().indexOf('ie 10') > -1;

        if (isIE10) {
            document.write("<script  type='text/javascript' src='scripts/libs/jquery-1.9.0.min.js'>\x3C/script>");
        } else {
            window.jQuery || document.write("<script  type='text/javascript' src='scripts/libs/zeptojs.min.js'>\x3C/script>");
        }
    </script>
    
    <script type="text/javascript" src="scripts/libs/q.js"></script>
    
    <!--<script type="text/javascript" src="cordova_mock.js"></script>-->
    <!--<script type="text/javascript" src="scripts/cordova-2.2.0.js"></script>-->
    <script type="text/javascript">
        var jqReady = Q.defer();
        var pgReady = Q.defer();
        if (window['cordova']) {
            document.addEventListener("deviceready", pgReady.resolve, false);
        } else {
            pgReady.resolve();
        }

        $(function () { jqReady.resolve(); });
    </script>
</head>
<body data-accent="blue" data-theme="black" data-font="segoeuilight" class="theme-black font-segoeuilight">
    <div id="page" class="app-container">
        <div class="metro-loading">
            <h1 class="loading-header">JayScrum</h1>
            <h2 class="loading-subheader">AGILE TASK MANAGER<br><span class="ui-icon spin"></span></h2>
        </div>
    </div>

    <!-- #region TEMPLATES -->
    <script type="text/html" id="dashBoard-template">
        <div id="metro-tiles-scroll" class="metro-tiles-scroll scroll-out">
            <div class="scroll-in">
                <div id="metro-tiles" class="metro-tiles-container">
                    <div class="main-header main-page-header">
                        <h1 class="pivot-default animate click-via padding10_0" data-bind="text: $root.selectedFrame().data().name"></h1>
                        <small class="subtitle" data-bind="text: $root.globalData().repositoryName"></small>
                    </div>

                    <ul class="metro-tiles tolower">
                        <!-- ko foreach: $data.data().activeSprintList -->
                        <li data-bind="attr: { 'class': $parent.isPinnedSprint($data) ? 'metro-tile metro-tile-wide pinned chart' : 'metro-tile metro-tile-wide chart' }, click: $parent.onTaskListShow">
                            <span class="day" data-bind="text: Name"></span>
                            <span class="b-right" data-bind="text: moment(FinishDate).diff(moment(), 'days') + ' days left'"></span>
                            <span class="text" data-bind="text: tasksLeft+' task left'"></span>
                            <!--<span class="number">scrumwall</span>-->
                            <!--ko if: $parent.isPinnedSprint($data)-->
                            <!--<span class="pin"></span>-->
                            <!--/ko-->
                        </li>
                        <!-- /ko -->
                        <li class="metro-tile metro-tile-wide"  data-bind="click: $data.onProjectListShow">
                            <span class="icon icon-57 projects"></span>
                            <span class="text">Projects</span>
                        </li>
                        <li class="metro-tile metro-tile-wide" data-bind="click: $data.onSprintListShow">
                            <span class="icon icon-57 sprints"></span>
                            <span class="text">Sprints</span>
                        </li>
                        <li class="metro-tile metro-tile-wide" data-bind="click: $data.onUserStoryListShow">
                            <span class="icon icon-57 us"></span>
                            <span class="text">User Stories</span>
                        </li>
                        <li class="metro-tile tile"  data-bind="click: $data.onSettingsShow">
                            <span class="icon icon-57 settings"></span>
                            <span class="text">UI Settings</span>
                        </li>
                        <li class="metro-tile tile" data-bind="click: $data.onRepositorySettingShow">
                            <span class="icon icon-57 repos"></span>
                            <span class="text">Repositories</span>
                        </li>
                        <li class="metro-tile tile" data-bind="click: $data.onUserSettingShow">
                            <span class="icon icon-57 users"></span>
                            <span class="text">Users</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </script>

    <script type="text/html" id="scrumWall-template">
        <div class="icon-action back topleft marginl10" data-bind="click: $root.backView"></div>
        <div class="main-header not-main-page with-back">
            <h1 class="title pivot-default animate click-via" data-bind="text: $root.selectedFrame().data().name"></h1>
        </div>
        <div class="icon-action main-top-right more-circle" data-bind="click: $root.selectedFrame().onShowToolbar"></div>
        <div id="wrapper" class="iscroll-wrapper metro-pivot reset">
            <div id="scroller" class="iscroll-scroller">
                <div class="pivot-list">
                    <div class="pivot rechanged">
                        <h1 class="pivot-default click-via">just changed</h1>
                        <div class="scroll-list pivot-default-opacity" id="transition0">
                            <div class="scroller-list">
                                <div class="list" data-bind="foreach: $data.data().recentlyChangedTasks">
                                    <div class="item task list-item" data-bind="attr: { 'class': 'item task list-item ' + State() + ' ' + IsBlocked() }">
                                        <!-- ko if: Title -->
                                        <h2 class="title margintop tolower click-fade" data-isinrecentlychangedlist="true" data-bind="text: Title, click: $root.selectedFrame().onSelectWorkItem"></h2>
                                        <!-- /ko -->

                                        <!-- ko if: ParentName -->
                                        <h4 class="title accent-color tolower" data-bind="text: ParentName"></h4>
                                        <!-- /ko -->

                                        <!-- ko if: ProjectName -->
                                        <span class="text-small inactive tolower iblock" data-bind="text: 'Project: ' + ProjectName()"></span>
                                        <!-- /ko -->

                                        <div class="inactive tolower">
                                            <!-- ko if: RemainingWork -->
                                            <span class="text-small accent-bg" data-bind="text: RemainingWork() + ' h'"></span>
                                            <!-- /ko -->

                                            <!-- ko if: ChangedBy -->
                                            <span class="text-small accent-color" data-bind="text: $root.globalData().userFullNames()[ChangedBy()]"></span>
                                            <!-- /ko -->

                                            <!-- ko if: ChangedDate -->
                                            | <span class="text-small" data-bind="text: moment(ChangedDate()).format('MM/DD/YY')"></span>
                                            <!-- /ko -->
                                        </div>
                                    </div>
                                </div>
                                <!--ko if: $data.data().recentlyChangedTasks().length < 1 -->
                                <p class="inactive">No item found for this list</p>
                                <!--/ko-->
                            </div>
                        </div>
                    </div>

                    <div class="pivot todo">
                        <h1 class="pivot-default click-via">Todo</h1>
                        <div class="scroll-list pivot-default-opacity" id="transition1">
                            <div class="scroller-list">
                                <div class="list" data-bind="foreach: $data.data().todoList">
                                    <div data-bind="attr: { 'class': 'item task list-item ' + IsBlocked() }">
                                        <!-- ko if: Title -->
                                        <h2 class="title margintop tolower click-fade" data-bind="text: Title, click: $root.selectedFrame().onSelectWorkItem"></h2>
                                        <!-- /ko -->

                                        <!-- ko if: ParentName -->
                                        <h4 class="title accent-color tolower" data-bind="text: ParentName"></h4>
                                        <!-- /ko -->

                                        <!-- ko if: ProjectName -->
                                        <span class="text-small inactive tolower iblock" data-bind="text: 'Project: ' + ProjectName()"></span>
                                        <!-- /ko -->

                                        <div class="inactive tolower">
                                            <!-- ko if: RemainingWork -->
                                            <span class="text-small accent-bg" data-bind="text: RemainingWork() + ' h'"></span>
                                            <!-- /ko -->

                                            <!-- ko if: AssignedTo -->
                                            <span class="text-small accent-color" data-bind="text: $root.globalData().userFullNames()[AssignedTo()]"></span>
                                            <!-- /ko -->

                                            <!-- ko if: Priority -->
                                            | <span class="text-small" data-bind="text: 'prior: ' + Priority()"></span>
                                            <!-- /ko -->
                                        </div>
                                    </div>
                                </div>
                                <!--ko if: $data.data().todoList().length < 1 -->
                                <p class="inactive">No item found for this list</p>
                                <!--/ko-->
                            </div>
                        </div>
                    </div>

                    <div class="pivot inprog">
                        <h1 class="pivot-default click-via">In Progress</h1>
                        <div class="scroll-list pivot-default-opacity" id="transition2">
                            <div class="scroller-list">
                                <div class="list" data-bind="foreach: $data.data().inProgList">
                                    <div class="task-template-inprog">
                                        <div data-bind="attr: { 'class': 'item task list-item ' + IsBlocked() }">
                                            <!-- ko if: Title -->
                                            <h2 class="title margintop tolower click-fade" data-bind="text: Title, click: $root.selectedFrame().onSelectWorkItem"></h2>
                                            <!-- /ko -->

                                            <!-- ko if: AssignedTo -->
                                            <h4 class="title accent-color" data-bind="text: $root.globalData().userFullNames()[AssignedTo()]"></h4>
                                            <!-- /ko -->

                                            <!-- ko if: ProjectName -->
                                            <span class="text-small inactive tolower iblock" data-bind="text: 'Project: ' + ProjectName()"></span>
                                            <!-- /ko -->

                                            <div class="inactive tolower">
                                                <!-- ko if: RemainingWork -->
                                                <span class="text-small accent-bg" data-bind="text: RemainingWork() + ' h'"></span>
                                                <!-- /ko -->

                                                <!-- ko if: Priority -->
                                                <span class="text-small" data-bind="text: 'prior: ' + Priority()"></span>
                                                <!-- /ko -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--ko if: $data.data().inProgList().length < 1 -->
                                <p class="inactive">No item found for this list</p>
                                <!--/ko-->
                            </div>
                        </div>
                    </div>

                    <div class="pivot done">
                        <h1 class="pivot-default click-via">Done</h1>
                        <div class="scroll-list pivot-default-opacity" id="transition3">
                            <div class="scroller-list">
                                <div class="list" data-bind="foreach: $data.data().doneList">
                                    <div class="item task list-item" data-bind="attr: { 'class': 'item task list-item ' + IsBlocked() }">
                                        <!-- ko if: Title -->
                                        <h2 class="title margintop tolower click-fade" data-bind="text: Title, click: $root.selectedFrame().onSelectWorkItem"></h2>
                                        <!-- /ko -->

                                        <!-- ko if: ParentName -->
                                        <h4 class="title accent-color tolower" data-bind="text: ParentName"></h4>
                                        <!-- /ko -->

                                        <!-- ko if: ProjectName -->
                                        <span class="text-small inactive tolower iblock" data-bind="text: 'Project: ' + ProjectName()"></span>
                                        <!-- /ko -->

                                        <div class="inactive tolower">
                                            <!-- ko if: AssignedTo -->
                                            <span class="text-small accent-color" data-bind="text: $root.globalData().userFullNames()[AssignedTo()]"></span>
                                            <!-- /ko -->

                                            <!-- ko if: ChangedDate -->
                                            | <span class="text-small" data-bind="text: moment(ChangedDate()).format('MM/DD/YY')"></span>
                                            <!-- /ko -->
                                        </div>
                                    </div>
                                </div>
                                <!--ko if: $data.data().doneList().length < 1 -->
                                <p class="inactive">No item found for this list</p>
                                <!--/ko-->
                            </div>
                        </div>
                    </div>

                    <div class="pivot review">
                        <h1 class="pivot-default click-via">Sprint Overview</h1>
                        <div class="scroll-list pivot-default-opacity" id="transition4">
                            <div class="scroller-list">
                                <div class="list">
                                    <div class="review-item">
                                        <div id="burndownChart" class="chart-burndown metro-chart" style="width: 100%; height: 320px;"></div>
                                        <div class="info" data-bind="with: $data.data().summaryList">
                                            <ul class="tolower first marginb15">
                                                <li class="first listitem-first">
                                                    <h2>All user stories</h2>
                                                    <p data-bind="text: BackLogItemCountInSprint"></p>
                                                </li>
                                            </ul>
                                            <ul class="tolower marginb15">
                                                <li class="first">
                                                    <h2>All tasks</h2>
                                                    <p>
                                                        <span data-bind="text: SprintAllTaskCount"></span> / <span data-bind="text: SprintAllTaskRemainingWork"></span>h
                                                    </p>
                                                </li>
                                                <li class="To Do accent-border left">
                                                    <h2>Todo</h2>
                                                    <p>
                                                        <span data-bind="text: SprintToDoTaskCount"></span> / <span data-bind="text: SprintToDoTaskRemainingWork"></span>h
                                                    </p>
                                                </li>
                                                <li class="In Progress accent-border left">
                                                    <h2>In Progress</h2>
                                                    <p>
                                                        <span data-bind="text: SprintInProgTaskCount"></span> / <span data-bind="text: SprintInProgTaskRemainingWork"></span>h
                                                    </p>
                                                </li>
                                                <li class="Done accent-border left">
                                                    <h2>Done</h2>
                                                    <p>
                                                        <span data-bind="text: SprintDoneTaskCount"></span></span>
                                                    </p>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="metro-actionbar">
            <ul>
                <li class="icon-action add" data-bind="click: $root.selectedFrame().onAddWorkItem"></li>
                <!-- ko ifnot: $data.data().myTasks -->
                <li class="icon-action user" data-bind="click: $root.selectedFrame().onChangeMyTasksFilter"></li>
                <!-- /ko -->
                <!-- ko if: $data.data().myTasks -->
                <li class="icon-action list" data-bind="click: $root.selectedFrame().onChangeMyTasksFilter"></li>
                <!-- /ko -->
            </ul>
        </div>
    </script>
    <script type="text/html" id="taskSelectView-template">
        <div class="detail maxw768">
            <div class="icon-action back topleft absolute" data-bind="with: $data.data().selectedWorkItem, click: $root.selectedFrame().onCancelWorkItem"></div>
            <div class="slider-action prev" onclick="JayScrum.app.selectedFrame().selectedView().swipeView.prev();"><span class="arrow">‹</span></div>
            <div id="swipeview" class="swipeview-container scroller-in">
                <div id="swipeview-slider" class="swipeview-slider">
                    <div id="swipeview-masterpage-0" data-bind="with: $data.data().selectedWorkItemPrev">
                        <div class="pivot-content" data-bind="attr: { 'class': State() }">
                            <h1 class="accent-color detail-title" data-bind="text: Title"></h1>
                            <div class="item noborder">
                                <div id="swipeview-inside-0" class="swipeview-item">
                                    <div class="tolower">
                                        <!-- ko template: { name: 'workItemSelector-template', data: $data }-->
                                        <!-- /ko-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="swipeview-masterpage-1" data-bind="with: $data.data().selectedWorkItem">
                        <div class="pivot-content" data-bind="attr: { 'class': State() }">
                            <h1 class="accent-color detail-title" data-bind="text: Title"></h1>
                            <div class="item noborder">
                                <div id="swipeview-inside-1" class="swipeview-item">
                                    <div class="tolower">
                                        <!-- ko template: { name: 'workItemSelector-template', data: $data }-->
                                        <!-- /ko-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="swipeview-masterpage-2" data-bind="with: $data.data().selectedWorkItemNext">
                        <div class="pivot-content" data-bind="attr: { 'class': State() }">
                            <h1 class="accent-color detail-title" data-bind="text: Title"></h1>
                            <div class="item noborder">
                                <div id="swipeview-inside-2" class="swipeview-item">
                                    <div class="tolower">
                                        <!-- ko template: { name: 'workItemSelector-template', data: $data }-->
                                        <!-- /ko-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slider-action next" onclick="JayScrum.app.selectedFrame().selectedView().swipeView.next();"><span class="arrow">›</span></div>
        </div>
        <div class="metro-actionbar detail-view opened" data-bind="with: $data.data().selectedWorkItemActive">
            <ul>
                <li class="icon-action edit" data-bind="click: $root.selectedFrame().onEditWorkItem"></li>
                <li class="icon-action update" data-bind="click: $root.selectedFrame().onUpdateWorkItem"></li>
                <li class="icon-action delete" data-bind="click: $root.selectedFrame().onDeleteWorkItem"></li>
            </ul>
        </div>
    </script>
    <script type="text/html" id="taskEditView-template">
        <div class="maxw768">
            <div class="icon-action back topleft" data-bind="with: $data.data().selectedWorkItemActive, click: $root.selectedFrame().onCancelWorkItem"></div>
            <div class="main-header">
                <h1 class="title">Edit workitem</h1>
            </div>
            <div class="detail edit reset" data-bind="with: $data.data().selectedWorkItemActive">
                <!-- ko template: { name: 'workItemEditor-template', data: $data }-->
                <!-- /ko-->
            </div>
        </div>
        <div class="metro-actionbar detail-view-edit opened" data-bind="with: $data.data().selectedWorkItemActive">
            <ul>
                <li class="icon-action save" data-bind="click: $root.selectedFrame().onSaveWorkItem"></li>
            </ul>
        </div>
        <div id="error-msg" class="metro-actionbar" style="height: 88px; z-index: 50; color: Red;" data-bind="with: $data.data().selectedWorkItemActive">
            <ul data-bind="foreach: $data.ValidationErrors">
                <li data-bind="text:$data.PropertyDefinition.name + ':' + $data.Message"></li>
            </ul>
        </div>
    </script>

    <script id="workItemEditor-template" type="text/html">
        <div id="wrapper-detailed-edit" class="wrapper-detailed-edit scroll-out">
            <div class="scroll-in">
                <div class="list maxlist">
                    <div class="pivot-content">
                        <div class="item task" data-bind="attr: { 'class': 'item task' + State() }">
                            <div class="tolower">
                                <div class="field">
                                    <div><span>Title</span></div>
                                    <input class="text-medium accent-bg" type="text" data-bind="value: Title" />
                                </div>

                                <div class="field">
                                    <div><span>Description</span></div>
                                    <textarea class="text-medium accent-bg" data-bind="value: Description"></textarea>
                                </div>

                                <div class="field">
                                    <div><span>Assigned To</span></div>
                                    <select class="input-dropdown accent-bg with-icon" data-bind="options: $root.globalData().userList, optionsText:function(item){return item?JayScrum.app.globalData().userFullNames()[item]+' ('+item+')':'';}, value: AssignedTo"></select>
                                    <span class="icon-action update fright" data-bind="click: $root.onRefreshUserList"></span>
                                </div>

                                <div class="field">
                                    <div><span>State</span></div>
                                    <select class="input-dropdown accent-bg" data-bind="options: $root.globalData().stateOptionValues, value: State">
                                    </select>
                                </div>

                                <div class="field">
                                    <div><span>Type</span></div>
                                    <select class="input-dropdown accent-bg" onchange="JayScrum.app.selectedFrame().selectedView().i_scroll.refresh();"
                                        data-bind="options: $root.globalData().typeOptionValues, value: Type">
                                    </select>
                                </div>

                                <div class="field">
                                    <div><span>Backlog Priority</span></div>
                                    <input class="text-medium accent-bg" type="number" min="0" step="1" pattern="[0-9]" data-bind="value: Priority" />
                                </div>

                                <!-- ko if: Type() == 'Task' -->
                                <div class="field">
                                    <div><span>Remaining Work</span></div>
                                    <input class="text-medium accent-bg" type="number" min="0" step="1" pattern="[0-9]" data-bind="value: RemainingWork" />
                                </div>
                                <!-- /ko -->

                                <!-- ko if: Type() != 'Task' -->
                                <div class="field">
                                    <div><span>Effort</span></div>
                                    <input class="text-medium accent-bg" type="number" min="0" step="1" pattern="[0-9]" data-bind="value: Effort" />
                                </div>

                                <div class="field">
                                    <div><span>Business Value</span></div>
                                    <input class="text-medium accent-bg" type="number" min="0" step="1" pattern="[0-9]" data-bind="value: BusinessValue" />
                                </div>
                                <!-- /ko -->

                                <!-- ko if: Type() == 'Task' -->
                                <div class="field">
                                    <div><span>User story</span></div>
                                    <select class="input-dropdown accent-bg with-icon" data-bind="options: $root.globalData().userStoryList, optionsText: 'Title', optionsValue: 'Id', value: WorkItem_WorkItem">
                                    </select>
                                    <span class="icon-action update fright" data-bind="click: $root.onRefreshUserStoryList"></span>
                                </div>
                                <!-- /ko -->

                                <div class="field">
                                    <div><span>Sprint</span></div>
                                    <select class="input-dropdown accent-bg with-icon" data-bind="options: $root.globalData().sprintList, optionsText: 'Name', optionsValue: 'Id', value: WorkItem_Sprint">
                                    </select>
                                    <span class="icon-action update fright" data-bind="click: $root.onRefreshSprintListForDropDown"></span>
                                </div>

                                <div class="field">
                                    <div><span>Project</span></div>
                                    <select class="input-dropdown accent-bg with-icon" data-bind="options: $root.globalData().projectList, optionsText: 'Name', optionsValue: 'Id', value: WorkItem_Project">
                                    </select>
                                    <span class="icon-action update fright" data-bind="click: $root.onRefreshProjectList"></span>
                                </div>

                                <div class="field">
                                    <div><span class="metro-checkbox-label">Blocked</span></div>
                                    <div class="metro-checkbox accent-bg">
                                        <input type="checkbox" id="Blocked" class="input-checkbox text-medium accent-bg" name="check" value="None" data-bind="checked: IsBlocked" />
                                        <label for="Blocked"></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>
    <script id="workItemSelector-template" type="text/html">
        <!-- ko if: Description -->
        <p class="description clear" data-bind="text: Description"></p>
        <!-- /ko -->

        <!-- ko if: Type() == 'Task' -->
        <div class="field">
            <div class="tile-small state"></div>
            <div>
                <span>State</span>

                <div class="field-holder">
                    <span class="tile-mini accent-bg" data-bind="click: $root.selectedFrame().onStateToTodo, attr: { 'class': State() == 'To Do' ? 'tile-mini accent-bg' : 'tile-mini bg-inactive' }"><span class="icon To Do"></span></span>
                    <span class="tile-mini accent-bg" data-bind="click: $root.selectedFrame().onStateToInprog, attr: { 'class': State() == 'In Progress' ? 'tile-mini accent-bg' : 'tile-mini bg-inactive' }"><span class="icon In Progress"></span></span>
                    <span class="tile-mini accent-bg" data-bind="click: $root.selectedFrame().onStateToDone, attr: { 'class': State() == 'Done' ? 'tile-mini accent-bg' : 'tile-mini bg-inactive' }"><span class="icon Done"></span></span>
                </div>
            </div>
        </div>

        <div class="field">
            <div class="tile-small remaining"></div>
            <div>
                <span>Remaining Work</span>
                <div class="field-holder">
                    <span class="button-action arrow-up accent-bg click-fade" data-bind="click: $root.selectedFrame().onSubtractHour">-</span>
                    <span class="button-action wider text-medium accent-bg" data-bind="text: RemainingWork() < 0 || RemainingWork() === ''  || RemainingWork() === null || isNaN(RemainingWork())  ? 0 : RemainingWork()"></span>
                    <span class="button-action arrow-down accent-bg click-fade" data-bind="click: $root.selectedFrame().onAddHour">+</span>
                </div>
            </div>
        </div>

        <div class="field">
            <div class="tile-small user"></div>
            <div>
                <span>Currently Assigned To</span>
                <span class="text-medium accent-color" data-bind="text: AssignedTo() == '' ? '-' : AssignedTo()"></span>

                <!--ko if: AssignedTo() != $root.globalData().user().Login() -->
                <div class="field-holder inner">
                    <span class="accent-bg btn-metro btn-medium" data-bind="click: $root.selectedFrame().onAssignToMe">Assign to me</span>
                </div>
                <!-- /ko -->
            </div>
        </div>
        <!-- /ko -->

        <!-- ko if: Type() == 'Task' -->
        <!-- ko if: ParentName -->
        <div class="field">
            <div class="tile-small parent"></div>
            <div>
                <span>User Story</span><span class="text-medium accent-color" data-bind="text: ParentName"></span>
            </div>
        </div>
        <!-- /ko -->
        <!-- /ko -->

        <!-- ko if: SprintName -->
        <div class="field">
            <div class="tile-small sprint"></div>
            <div>
                <span>Sprint</span><span class="text-medium accent-color" data-bind="text: SprintName"></span>
            </div>
        </div>
        <!-- /ko -->

        <!-- ko if: ProjectName -->
        <div class="field">
            <div class="tile-small project"></div>
            <div>
                <span>Project</span><span class="text-medium accent-color" data-bind="text: ProjectName"></span>
            </div>
        </div>
        <!-- /ko -->

        <!-- ko if: IsBlocked -->
        <div class="field">
            <div class="tile-small blocked"></div>
            <div>
                <span>Blocked</span><span class="text-medium accent-color" data-bind="text: IsBlocked"></span>
            </div>
        </div>
        <!-- /ko -->


        <!-- ko if: Priority -->
        <div class="field">
            <div class="tile-small priority"></div>
            <div>
                <span>Backlog Priority</span><span class="text-medium accent-color" data-bind="text: Priority"></span>
            </div>
        </div>
        <!-- /ko -->

        <!-- ko if: Type() == 'Task' -->
        <!-- ko if: Effort -->
        <div class="field">
            <div class="tile-small effort"></div>
            <div>
                <span>Effort</span><span class="text-medium accent-color" data-bind="text: Effort"></span>
            </div>
        </div>
        <!-- /ko -->

        <!-- ko if: BusinessValue -->
        <div class="field">
            <div class="tile-small value"></div>
            <div>
                <span>Business Value</span><span class="text-medium accent-color" data-bind="text: BusinessValue"></span>
            </div>
        </div>
        <!-- /ko -->
        <!-- /ko -->
    </script>

    <script type="text/html" id="userStory-template">
        <div class="icon-action back topleft marginl10" data-bind="click: $root.backView"></div>
        <div class="main-header not-main-page">
            <h1 class="title" data-bind="text: $root.selectedFrame().data().name"></h1>
        </div>
        <div class="icon-action main-top-right add" data-bind="click: $root.selectedFrame().onAddUserStory"></div>
        <div id="wrapper" class="iscroll-wrapper metro-pivot reset wrapper-container">
            <div id="scroller" class="iscroll-scroller">
                <div class="pivot-list us-dated-list">
                    <div class="pivot">
                        <h1 class="pivot-default click-via to-ellipsis">Independent</h1>
                        <div class="uslist scroll-list pivot-default-opacity scrollable-list" id='transition-us'>
                            <div class="scroller-list" data-sprintid="-1">
                                <!-- ko template: { name: 'userStoryColumn-template', data: $data.data().userStoryList }-->
                                <!-- /ko-->
                            </div>
                        </div>
                    </div>

                    <!-- ko foreach: $data.data().userStoriesInSprintList-->
                    <div class="pivot">
                        <h1 class="pivot-default click-via" data-bind="text: $data.sprintName"></h1>
                        <div class="sprint-dates color-lightgray">
                            <span data-bind="text: moment($data.StartDate).format('MM.DD.YYYY')"></span>
                            -<span data-bind="text: moment($data.FinishDate).format('MM.DD.YYYY')"></span>
                        </div>
                        <div class="uslist scroll-list pivot-default-opacity scrollable-list" data-bind="attr:{'id': 'transition-us-' + $index()}">
                            <div class="scroller-list" data-bind="attr:{'data-sprintIndex': $index()}">
                                <!-- ko template: { name: 'userStoryColumn-template', data: $data.list }-->
                                <!-- /ko-->
                            </div>
                        </div>
                    </div>
                    <!--/ko-->
                </div>
            </div>
        </div>
    </script>
    <script type="text/html" id="userStoryColumn-template">
        <div class="list" data-bind="foreach: $data">
            <div class="item task list-item" data-bind="attr: { 'class': 'item task list-item ' + State() + ' ' + IsBlocked() }">
                <!-- ko if: Title -->
                <h2 class="title margintop tolower click-fade" data-bind="text: Title, click: $root.selectedFrame().onSelectUserStory"></h2>
                <!-- /ko -->

                <!-- ko if: ProjectName -->
                <h4 class="title accent-color" data-bind="text: 'Project: ' + ProjectName()"></h4>
                <!-- /ko -->

                <!-- ko if: Priority -->
                <h5 class="title inactive" data-bind="text: 'Priority: ' + Priority()"></h5>
                <!-- /ko -->

                <div class="inactive tolower">
                    <!-- ko if: Effort -->
                    <span class="text-small" data-bind="text: 'Effort: ' + Effort()"></span>
                    <!-- /ko -->

                    <!-- ko if: BusinessValue -->
                    | <span class="text-small" data-bind="text: 'Business Value: ' + BusinessValue()"></span>
                    <!-- /ko -->
                </div>
            </div>
        </div>
        <!--ko ifnot: $data.length-->
        <p class="inactive">No item found for this list</p>
        <!--/ko-->
    </script>
    <script type="text/html" id="userStorySelectView-template">
        <div class="detail maxw768" data-bind="with: $data.data().selectedUserStory">
            <div class="icon-action back topleft absolute"  data-bind="click: $root.selectedFrame().onCancelUserStory"></div>
            <div id="wrapper-detailed" class="wrapper-detailed scroll-out ohidden">
                <div id="swipeview" class="scroller-in">
                    <div class="list maxlist" data-bind="attr: { 'class': State() }">
                        <h1 class="accent-color detail-title" data-bind="text: Title"></h1>
                        <div class="pivot-content">
                            <div class="item">
                                <div id="swipeview-inside-1" class="swipeview-item top15">
                                    <div class="tolower">
                                        <!-- ko template: { name: 'workItemSelector-template', data: $data }-->
                                        <!-- /ko-->

                                        <br />

                                        <div class="task-list metro-pivot uslist">
                                            <h2 class="font30 marginb20">
                                                <span class="value">Tasks</span>

                                                <span class="fright">
                                                    <!-- ko if: $parent.data().selectedUserStoryTaskList().length < 1 -->
                                                    <span class="icon-action download marginr5_" data-bind="click: $root.selectedFrame().onRefreshWorkItemsOfUserStory"></span>
                                                    <!-- /ko -->
                                                    <!-- ko if: $parent.data().selectedUserStoryTaskList().length > 0 -->
                                                    <span class="icon-action update marginr5_" data-bind="click: $root.selectedFrame().onRefreshWorkItemsOfUserStory"></span>
                                                    <!-- /ko -->
                                                    <span class="icon-action add marginr5_" data-bind="width:$data.data, click: $root.selectedFrame().onAddNewTaskToUserStory"></span>
                                                </span>
                                            </h2>

                                            <!--ko if: $parent.data().selectedUserStoryTaskList().length > 0-->
                                            <div class="list">
                                                <!--ko foreach: $parent.data().selectedUserStoryTaskList()-->
                                                <div data-bind="attr: { 'class': IsBlocked() == true ? 'item task list-item pointer ' + IsBlocked() : 'item task list-item pointer ' + State() }, click: $root.selectedFrame().onSelectWorkItemOfUserStory">
                                                    <!-- ko if: Title -->
                                                    <h2 class="title margintop click-fade" data-bind="text: Title"></h2>
                                                    <!-- /ko -->

                                                    <!-- ko if: ParentName -->
                                                    <h4 class="title accent-color" data-bind="text: ParentName"></h4>
                                                    <!-- /ko -->

                                                    <!-- ko if: ProjectName -->
                                                    <span class="text-small inactive iblock" data-bind="text: 'Project: ' + ProjectName()"></span>
                                                    <!-- /ko -->

                                                    <div class="inactive">
                                                        <!-- ko if: RemainingWork -->
                                                        <span class="text-small accent-bg" data-bind="text: RemainingWork() + ' h'"></span>
                                                        <!-- /ko -->

                                                        <!-- ko if: AssignedTo -->
                                                        <span class="text-small accent-color" data-bind="text: AssignedTo"></span>
                                                        <!-- /ko -->

                                                        <!-- ko if: Priority -->
                                                        | <span class="text-small inactive" data-bind="text: 'prior: ' + Priority()"></span>
                                                        <!-- /ko -->
                                                    </div>
                                                </div>
                                                <!--/ko-->
                                            </div>
                                            <!--/ko-->

                                            <!--ko if: $parent.data().selectedUserStoryTaskList().length < 1 -->
                                            <p class="inactive">Click the icon to download user story's tasks</p>
                                            <!--/ko-->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="metro-actionbar detail-view opened" data-bind="with: $data.data().selectedUserStory">
            <ul>
                <li class="icon-action edit" data-bind="click: $root.selectedFrame().onEditUserStory"></li>
                <li class="icon-action update" data-bind="click: $root.selectedFrame().onUpdateUserStory"></li>
                <li class="icon-action delete" data-bind="click: $root.selectedFrame().onDeleteUserStory"></li>
            </ul>
        </div>
    </script>
    <script type="text/html" id="userStoryEditView-template">
        <div class="maxw768">
            <div class="icon-action back topleft" data-bind="with: $data.data().selectedUserStory, click: $root.selectedFrame().onCancelUserStory"></div>
            <div class="main-header">
                <h1 class="title">Edit userstory</h1>
            </div>
            <div class="detail edit reset" data-bind="with: $data.data().selectedUserStory">
                <!-- ko template: { name: 'workItemEditor-template', data: $data }-->
                <!-- /ko-->
            </div>
        </div>
        <div class="metro-actionbar detail-view-edit opened" data-bind="with: $data.data().selectedUserStory">
            <ul>
                <li class="icon-action save" data-bind="click: $root.selectedFrame().onSaveUserStory"></li>
            </ul>
        </div>
    </script>
    <script type="text/html" id="userStoryByProject-template">
        <div id="wrapper" class="iscroll-wrapper metro-pivot wrapper-container">
            <div id="scroller" class="iscroll-scroller">
                <div class="pivot-list us-dated-list">
                    <!-- ko foreach: userStoriesInSprintList-->
                    <div class="pivot">
                        <h1 class="pivot-default animate click-via to-ellipsis" data-bind="text: $data.sprintName"></h1>
                        <div class="uslist scroll-list pivot-default-opacity scrollable-list" data-bind="attr:{'id': 'transition-us-' + $index()}">
                            <div class="scroller-list" data-bind="attr:{'data-sprintIndex': $index()}">
                                <!-- ko template: { name: 'userStoryColumn-template', data: $data.list }-->
                                <!-- /ko-->
                            </div>
                        </div>
                    </div>
                    <!--/ko-->
                </div>
            </div>
        </div>
    </script>

    <script type="text/html" id="sprint-template">
        <div class="maxw768">
            <div class="icon-action back topleft" data-bind="click: $root.backView"></div>
            <div class="main-header not-main-page">
                <h1 class="title" data-bind="text: $root.selectedFrame().data().name"></h1>
            </div>
            <div class="metro-pivot reset wrapper-container">
                <div class="pivot-list">
                    <div class="pivot uslist">
                        <div class="scroll-list scrollable-list bottom45 pivot-default-opacity" id="transition-iteration">
                            <div class="scroller-list">
                                <!-- ko if: $data.data().sprintList().length > 0 -->
                                <div class="list maxlist" data-bind="foreach: $data.data().sprintList">
                                    <div class="item task list-item relative reset-p clear">
                                        <h2 class="title margintop tolower accent-color">
                                            <span class="value click-fade" data-bind="text: Name, click: $parent.onSelectSprint"></span>
                                            
                                            <span class="icon-action edit fright click-fade" data-bind="click: $parent.onEditSprint"></span>
                                            <!-- ko if: $data.isPinned() -->
                                            <span class="icon-action unpin fright click-fade" title="Click to unpin from dashboard" data-bind="click: $parent.onPinSprint"></span>
                                            <!-- /ko -->
                                            <!-- ko ifnot: $data.isPinned() -->
                                            <span class="icon-action pin fright click-fade" title="Click to pin to dashboard"data-bind="click: $parent.onPinSprint"></span>
                                            <!-- /ko -->
                                        </h2>

                                        <div class="sprint-dates color-white">
                                            <span data-bind="text: moment(StartDate()).format('MM.DD.YYYY')"></span>-
                                            <span data-bind="text: moment(FinishDate()).format('MM.DD.YYYY')"></span>
                                        </div>
                                    </div>
                                </div>
                                <!-- /ko -->

                                <!-- ko if: $data.data().sprintList().length == 0 -->
                                <p class="hint-text clear">
                                    There is no Sprint created in your Application yet. To create
                                    a new Sprint click the button at the bottom of the screen!
                                </p>
                                <!-- /ko -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="metro-actionbar detail-view opened">
            <ul>
                <!-- ko if: $data.data().sprintList().length == 0 -->
                <li class="hint-bubble">Click to add a Sprint</li>
                <!-- /ko -->
                <li class="icon-action add" data-bind="click: $data.onAddSprint"></li>
            </ul>
        </div>
    </script>
    <script type="text/html" id="sprintEditView-template">
        <div class="maxw768" data-bind="with: $data.data().selectedSprint">
            <div class="icon-action back topleft" data-bind="click: $parent.onCancelSprint"></div>
            <div class="'main-header not-main-page">
                <h1 class="title">Sprint data</h1>
            </div>
            <div class="detail edit">
                <div id="transition-iteration-edit" class="scroll-out">
                    <div class="scroll-in">
                        <div class="list">
                            <div class="pivot-content">
                                <div class="item task" data-bind="attr: { 'class': 'item task ' }">
                                    <div class="tolower">
                                        <div class="field">
                                            <div><span>Name</span></div>
                                            <input class="text-medium accent-bg" type="text" data-bind="value: Name" />
                                        </div>
                                        <div class="field">
                                            <div><span>Start Date</span></div>
                                            <input class="text-medium accent-bg field-date-value" type="text" data-bind="value: StartDate" />
                                        </div>
                                        <div class="field">
                                            <div><span>End Date</span></div>
                                            <input class="text-medium accent-bg field-date-value" type="text" data-bind="value: FinishDate" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="metro-actionbar detail-view-edit" data-bind="with: $data.data().selectedSprint">
            <ul>
                <li class="icon-action save" data-bind="click: $parent.onSaveSprint"></li>
                <!--ko if:$data.Id()!==null-->
                <li class="icon-action delete" data-bind="click: $parent.onDeleteSprint"></li>
                <!--/ko-->
            </ul>
        </div>
    </script>

    <script type="text/html" id="project-template">
        <div class="maxw768">
            <div class="icon-action back topleft" data-bind="click: $root.backView"></div>
            <div class="main-header with-back not-main-page">
                <h1 class="title" data-bind="text: $root.selectedFrame().data().name"></h1>
            </div>
            <div class="metro-pivot wrapper-container reset">
                <div class="pivot-list">
                    <div class="pivot uslist">
                        <div class="scroll-list scrollable-list bottom45" id="transition-projects">
                            <div class="scroller-list maxlist">
                                <!-- ko if: $data.data().projectList().length > 0 -->
                                <div class="list project-list" data-bind="foreach: $data.data().projectList">

                                    <div class="item task list-item reset-p clear">
                                        <h2 class="title margintop tolower accent-color">
                                            <span class="value click-fade" data-bind="text: Name, click: $parent.onSelectProject"></span>
                                            <span class="icon-action edit fright" data-bind="click: $parent.onEditProject"></span>
                                        </h2>

                                        <p data-bind="text: Description"></p>
                                    </div>
                                </div>
                                <!-- /ko -->

                                <!-- ko if: $data.data().projectList().length == 0 -->
                                <p class="hint-text clear">
                                    There is no Project created in your Application yet. To create
                                    a new Project click the button at the bottom of the screen!
                                </p>
                                <!-- /ko -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="metro-actionbar detail-view opened">
                    <ul>
                        <!-- ko if: $data.data().projectList().length == 0 -->
                        <li class="hint-bubble">Click to add a Project</li>
                        <!-- /ko -->
                        <li class="icon-action add" data-bind="click: $data.onAddProject"></li>
                    </ul>
                </div>
            </div>
        </div>
    </script>
    <script type="text/html" id="projectEditView-template">
        <div class="maxw768" data-bind="with: $data.data().selectedProject">
            <div class="icon-action back topleft" data-bind="click: $parent.onCancelProject"></div>
            <div class="main-header with-back">
                <h1 class="title">Project data</h1>
            </div>
            <div class="detail edit">
                <div id="transition-projects" class="scroll-out">
                    <div class="scroll-in">
                        <div class="list">
                            <div class="pivot-content">
                                <div class="item task" data-bind="attr: { 'class': 'item task ' }">
                                    <div class="tolower">
                                        <div class="field">
                                            <div><span>Name</span></div>
                                            <input class="text-medium accent-bg" type="text" data-bind="value: Name" placeholder="Project name" />
                                        </div>
                                        <div class="field">
                                            <div><span>Description</span></div>
                                            <textarea class="text-medium accent-bg" type="datetime" data-bind="value: Description"
                                                placeholder="Description"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="metro-actionbar detail-view-edit" data-bind="with: $data.data().selectedProject">
            <ul>
                <li class="icon-action save" data-bind="click: $parent.onSaveProject"></li>
                <!--ko if: $data.Id-->
                <li class="icon-action delete" data-bind="click: $parent.onDeleteProject"></li>
                <!--/ko-->
            </ul>
        </div>
    </script>
    <script type="text/html" id="projectSelectView-template">
        <div class="maxw768">
            <div class="icon-action back topleft" data-bind="click: $root.backView"></div>
            <div class="main-header with-back not-main-page">
                <h1 class="title" data-bind="text: $data.data().selectedProject().Name"></h1>
            </div>
            <div class="metro-pivot wrapper-container reset">
                <div class="pivot-list">
                    <div class="pivot uslist">
                        <div class="scroll-list scrollable-list pivot-default-opacity" id="transition-projects">
                            <div class="scroller-list">
                                <div class="list project-list maxlist" data-bind="with: $data.data().selectedProject">
                                    <div class="item task list-item clear">
                                        <p data-bind="text: Description"></p>

                                        <div class="task-list metro-pivot uslist">
                                            <h2 class="font30 marginb20">
                                                <span class="value">user stories</span>

                                                <span class="fright">
                                                    <!-- ko if: $parent.data().userStoriesOfProject().length < 1 -->
                                                    <span class="icon-action download marginr5_" data-bind="click: $root.selectedFrame().onRefreshUserStoriesOfProject"></span>
                                                    <!-- /ko -->
                                                    <!-- ko if: $parent.data().userStoriesOfProject().length > 0 -->
                                                    <span class="icon-action update marginr5_" data-bind="click: $root.selectedFrame().onRefreshUserStoriesOfProject"></span>
                                                    <!-- /ko -->
                                                    <span class="icon-action add marginr5_" data-bind="width:$data.data, click: $root.selectedFrame().onAddNewUserStoryToProject"></span>
                                                </span>
                                            </h2>

                                            <!--ko if: $parent.data().userStoriesOfProject().length > 0-->
                                            <div class="list">

                                                <!--ko foreach: $parent.data().userStoriesOfProject()-->
                                                <div data-bind="attr: { 'class': IsBlocked() == true ? 'item task list-item pointer ' + IsBlocked() : 'item task list-item pointer ' + State() }, click: $root.selectedFrame().onSelectUserStoryOfProject">
                                                    <!-- ko if: Title -->
                                                    <h2 class="title margintop click-fade" data-bind="text: Title"></h2>
                                                    <!-- /ko -->

                                                    <!-- ko if: ProjectName -->
                                                    <h4 class="title accent-color" data-bind="text: 'Project: ' + ProjectName()"></h4>
                                                    <!-- /ko -->

                                                    <!-- ko if: Priority -->
                                                    <h5 class="title inactive" data-bind="text: 'Priority: ' + Priority()"></h5>
                                                    <!-- /ko -->

                                                    <div class="inactive">
                                                        <!-- ko if: Effort -->
                                                        <span class="text-small" data-bind="text: 'Effort: ' + Effort()"></span>
                                                        <!-- /ko -->

                                                        <!-- ko if: BusinessValue -->
                                                        | <span class="text-small" data-bind="text: 'Business Value: ' + BusinessValue()"></span>
                                                        <!-- /ko -->
                                                    </div>
                                                </div>
                                                <!--/ko-->

                                            </div>
                                            <!--/ko-->

                                            <!--ko if: $parent.data().userStoriesOfProject().length < 1 -->
                                            <p class="inactive">Click the icon to download user story's tasks</p>
                                            <!--/ko-->
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <script type="text/html" id="guiSettingPage-template">
        <div class="maxw768">
            <div class="icon-action back topleft" data-bind="click: $root.backView"></div>
            <div class="main-header not-main-page">
                <h1 class="title" data-bind="text: $root.selectedFrame().data().name"></h1>
            </div>
            <div id="transition-settings" class="scroll-list pivot-default-opacity scrollable-list">
                <div class="scroller-list">
                    <div class="list detail maxlist options">
                        <div class="item task">
                            <div class="tolower">
                                <div class="field pointer">
                                    <div><span class="iblock marginb10">Theme</span></div>
                                    <div class="themes">
                                        <div onclick="setTheme(this);" data-theme="black" class="theme-box theme-black pointer"></div>
                                        <div onclick="setTheme(this);" data-theme="darkgray" class="theme-box theme-darkgray pointer"></div>
                                        <div onclick="setTheme(this);" data-theme="darkblue" class="theme-box theme-darkblue pointer"></div>
                                        <div onclick="setTheme(this);" data-theme="img_1" class="theme-box theme-bg-thumb thumb-img_1 pointer"></div>
                                        <div onclick="setTheme(this);" data-theme="img_2" class="theme-box theme-bg-thumb thumb-img_2 pointer"></div>
                                        <div onclick="setTheme(this);" data-theme="img_3" class="theme-box theme-bg-thumb thumb-img_3 pointer"></div>
                                        <div onclick="setTheme(this);" data-theme="img_4" class="theme-box theme-bg-thumb thumb-img_4 pointer"></div>
                                        <div onclick="setTheme(this);" data-theme="img_5" class="theme-box theme-bg-thumb thumb-img_5 pointer"></div>
                                        <div onclick="setTheme(this);" data-theme="img_6" class="theme-box theme-bg-thumb thumb-img_6 pointer"></div>
                                    </div>
                                </div>

                                <div class="field fonts pointer">
                                    <div><span class="iblock marginb10">Font</span></div>
                                    <div data-font="segoewp" class="theme-font font-segoewp field" onclick="setFont(this);">
                                        <h5 class="toupper">Segoe WP</h5>
                                        <h3 class="nomargin">Lorem ipsum dolor</h3>
                                        <p class="nomargin">
                                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
                                            veniam.
                                        </p>
                                    </div>
                                    <div data-font="segoeuilight" class="theme-font font-segoeuilight field" onclick="setFont(this);">
                                        <h5 class="toupper">Segoe UI Light</h5>
                                        <h3 class="nomargin">Lorem ipsum dolor</h3>
                                        <p class="nomargin">
                                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
                                            veniam.
                                        </p>
                                    </div>
                                    <div data-font="mixed" class="theme-font font-mixed field" onclick="setFont(this);">
                                        <h5 class="toupper">Segoe UI Light header & SegoeWP content</h5>
                                        <h3 class="nomargin">Lorem ipsum dolor</h3>
                                        <p class="nomargin">
                                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
                                            veniam.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <script type="text/html" id="repositories-welcome">
        <div class="hint-screen" id="hintScreenScroller">
            <div class="container">
                <h1>Welcome to JayScrum!</h1>
                <p>
                    In this Agile Application you can manage your team's current sprint, complete with user stories, tasks, the works.
                    To get started you have to create a Repository for your Application where everything will be stored.
                </p>

                <br />

                <div class="tile-group-item blue">
                    <div class="metro-tile metro-tile-wide" data-bind="click: $data.getDemoDb">
                        <span class="icon icon-57 devices"></span>
                    </div>
                    <h3 class="click-fade pointer marginb5 color-blue" data-bind="click: $data.getDemoDb">Create local demo database</h3>
                    <p>If you would like to try this app, click here to create a local demo database and get started now!</p>
                </div>
                <div class="tile-group-item blue">
                    <div class="metro-tile metro-tile-wide" data-bind="click: $data.addSetting">
                        <span class="icon icon-57 connect"></span>
                    </div>
                    <h3 class="click-fade pointer marginb5 color-blue" data-bind="click: $data.addSetting">Connect to repository</h3>
                    <p>If your team already has an online repository click here to setup your connection.</p>
                </div>
                <!--ko if: $data.data().isSupportedPurchase-->
                <div class="tile-group-item blue">
                    <div class="metro-tile metro-tile-wide" data-bind="click: $data.buyDatabase">
                        <span class="icon icon-57 subscribe"></span>
                    </div>
                    <h3 class="click-fade pointer marginb5 color-blue" data-bind="click: $data.buyDatabase">Subscribe for an online repository</h3>
                    <p class="color-lightgreen close-p">Start your 7 days free trial today!</p>
                    <p>If you would like to have your own online repository click here and subscribe for an online repository.</p>
                </div>
                <div class="tile-group-item blue">
                    <div class="metro-tile metro-tile-wide" data-bind="click: $data._goToRepository">
                        <span class="icon icon-57 repos"></span>
                    </div>
                    <h3 class="click-fade pointer marginb5 color-blue" data-bind="click: $data._goToRepository">My repository</h3>
                    <p>If you already have a subscription for an online repository click here and go to your repository.</p>
                </div>
                <!--/ko-->
            </div>
        </div>
    </script>
    <script type="text/html" id="repositories-addsetting">
        <div id="settingPage" class="page-setting">
            <div class="icon-action back topleft" data-bind="with: $data.data().selectedSetting, click: cancelSetting"></div>

            <div class="main-header with-back">
                <h1 class="title">add online repository</h1>
            </div>

            <div class="scroll-list scrollable-list" id="addSettingScroller">
                <div class="scroller-list">
                    <div class="edit detail reset-p maxw768" data-bind="with: $data.data().selectedSetting">
                        <div class="tolower item reset-m">
                            <div class="field hide">
                                <div><span>Id</span></div>
                                <input class="text-medium accent-bg" type="number" readonly="true" data-bind="value: Id" />
                            </div>
                            <div class="field">
                                <div><span class="label-required" data-bind="text: Id()?'edit repository name':'add repository name'"></span></div>
                                <input class="text-medium accent-bg" type="text" data-bind="value: Title, valueUpdate:['afterkeydown','propertychange','input']" />
                            </div>
                            <div class="field">
                                <div>
                                    <span class="label-required">add repository url</span>
                                </div>
                                <input class="text-medium accent-bg" type="text" data-bind="value: Url, valueUpdate:['afterkeydown','propertychange','input'], attr:{'placeholder': 'Online repository name or full URL'}" />
                            </div>
                            <div class="field">
                                <div><span class="label-required">Username</span></div>
                                <input class="text-medium accent-bg" type="text" data-bind="value: UserName, valueUpdate:['afterkeydown','propertychange','input']" />
                            </div>
                            <div class="field">
                                <div><span class="label-required">Password</span></div>
                                <input class="text-medium accent-bg" type="password" data-bind="value: Password, valueUpdate:['afterkeydown','propertychange','input']" />
                            </div>
                            <div class="field">
                                <div><span class="metro-checkbox-label">Set as default repository</span></div>
                                <div class="metro-checkbox accent-bg">
                                    <input type="checkbox" id="isDefault" class="input-checkbox" name="check" value="None"  data-bind="checked: IsDefault" />
                                    <label for="isDefault"></label>
                                </div>
                            </div>
                            <div class="split2">
                                <span class="btn-metro btn-large margin10_0" data-bind="click: $parent.saveSetting">Save</span>
                                <span class="btn-metro btn-large margin10_0" data-bind="click: $parent.cancelSetting">Cancel</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>
    <script type="text/html" id="repositories-addsubscription">
        <div id="settingPage" class="page-setting">
            <div class="icon-action back topleft" data-bind="with: $data.data().selectedSetting, click: cancelSetting"></div>

            <div class="main-header with-back">
                <h1 class="title">Subscribe for an online repo</h1>
            </div>

            <div class="scroll-list scrollable-list bottom45" id="addSubscriptionScroller">
                <div class="scroller-list">
                    <div class="edit detail reset-p maxw768" data-bind="with: $data.data().selectedSetting">
                        <div class="tolower item reset-m">
                            <div class="field hide">
                                <div><span>Id</span></div>
                                <input class="text-medium accent-bg" type="number" readonly="true" data-bind="value: Id" />
                            </div>
                            <div class="field">
                                <div><span class="label-required">repository name</span></div>
                                <input class="text-medium accent-bg" type="text" data-bind="value: Title, valueUpdate:['afterkeydown','propertychange','input']" />
                            </div>
                            <div class="field">
                                <div><span class="label-required">admin user name</span></div>
                                <input class="text-medium accent-bg" type="text" data-bind="value: UserName, valueUpdate:['afterkeydown','propertychange','input']" />
                            </div>
                            <div class="field">
                                <div><span class="label-required">admin user password</span></div>
                                <input class="text-medium accent-bg" type="password" data-bind="value: Password, valueUpdate:['afterkeydown','propertychange','input']" />
                            </div>

                            <div class="ttnone">
                                <p>By clicking Subscribe, you initiate the purchase of a monthly subscription for your private JayScrum repository via the Android App Store. Your subscription fee will be billed by the Android App Store as long as your subscription is live.</p>

                                <p class="accent-color close-p">JayScrum Online Repository fee: $35/month</p>
                                <p class="color-lightgreen close-p">Start your 7 days free trial today!</p>
                                <p>Once this process is finished, you can start using your new repository, invite team members and kick off collaboration!</p>
                            </div>

                            <div class="split2">
                                <span class="btn-metro btn-large margin10_0" data-bind="click: $parent.subscriptionDatabase">Subscribe</span>
                                <span class="btn-metro btn-large margin10_0" data-bind="click: $parent.cancelSetting">Cancel</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="metro-actionbar error-subscribe">
                <p class="text-medium error" data-bind="text: $data.data().errorMsg"></p>
            </div>
        </div>
    </script>
    <script type="text/html" id="repositories-template">
        <div id="settingPage" class="page-setting">
            <div class="icon-action back topleft" data-bind="click: $root.backView"></div>

            <div class="main-header with-back">
                <h1 class="title">repositories</h1>
            </div>

            <div class="scroll-list pivot-default-opacity scrollable-list animate bottom45" id="settingPageScroll">
                <div class="scroller-list">
                    <div class="list detail">
                        <ul id="setting-list" class="setting-list" data-bind="foreach: $data.data().settings">
                            <li>
                                <!--ko if: $data.Status() == 'static' || $data.Status() == 'ready'-->
                                <h2 class="accent-color click-fade" data-bind="text: Title, click: $parent.connectTo"></h2>
                                <!-- /ko -->
                                <!--ko ifnot: $data.Status() == 'static' || $data.Status() == 'ready'-->
                                <h2 class="noclick" data-bind="text: Title"></h2>
                                <span data-bind="text:'status: ' + $data.Status()"></span>
                                <br />
                                <!-- /ko -->

                                <span class="to-ellipsis small-info" data-bind="text: 'repository url: ' + ($data.Url() || 'local')"></span>

                                <div class="actions actions-right">
                                    <!--ko if: $data.Status() == 'static' || $data.Status() == 'ready'-->
                                    <span class="icon-action connect" data-bind="click: $parent.connectTo"></span>
                                    <!--/ko-->
                                    <!--ko ifnot: $data.Id() == -1-->
                                    <span class="icon-action edit" data-bind="click: $parent.editSetting"></span>
                                    <!--ko if: $data.Status() == 'static'-->
                                    <span class="icon-action delete" data-bind="click: $parent.deleteSetting"></span>
                                    <!--/ko-->
                                    <!--ko ifnot: $data.Status() == 'static'-->
                                    <!--ko if: $data.Status() == 'ready'-->
                                    <span class="icon-action nomoney" data-bind="click: $parent.unSubscriptionDatabase"></span>
                                    <!--/ko-->

                                    <!--ko2 ifnot: $data.Status() == 'ready'-->
                                    <!--<span class="icon-action update" data-bind="click: $parent.refreshSettings"><span></span></span>-->
                                    <!--/ko2-->

                                    <!--/ko-->
                                    <!--/ko-->
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!--ko if: $data.data().errorMsg-->
            <div id="error-msg" class="metro-actionbar opened error-msg" style="height: 88px">
                <p class="text-medium error" data-bind="text: $data.data().errorMsg"></p>
            </div>
            <!--/ko-->
        </div>
        <div id="repo-info" class="repo-info metro-actionbar">
            <ul id="repo-info-scroll">
                <li>
                    <div class="icon-action back topleft" data-bind="click: $data.toggleInfoBox"></div>
                    <h1 class="title-left">About JayScrum</h1>
                    <p>Version: JayScrum 1.0 </p>

                    <br />

                    <p>JayScrum is an agile Project Management tool, that enables you to make your Scrum-methodology-based daily routine enjoyable. JayScrum turns your daily standup meetings something you and your team will look forward to, all that with an intuitive and beautifully designed application.  Through this application you can manage Projects, Backlogs, Tasks, Bugs, and Impediments.</p>
                    <p>If you have any suggestions that could help us make JayScrum even better or more to your liking, or if you are facing any support issues with your application or with your online repository, please contact us <a href="mailto:jayscrum@jaystack.com"></a>via e-mail.</a></p>

                    <br />

                    <p>Application framework: <br /><b>JayData</b> (<a href="http://jaydata.org" target="_blank" rel="external">http://jaydata.org</a>)</p>
                    <p>Application built on: <br /> <b>JayStorm </b>(<a href="http://jaydata.org" target="_blank">http://jaystack.com</a>)</p>
                    <p>Copyright:<br /> <b>JayStack Technologies</b> (<a href="http://jaystack.com" target="_blank">http://jaystack.com</a>)</p>

                    <br />

                    <p><a target="_blank" href="http://jaystack.com/company/privacy_policy">Privacy policy</a> <span class="inactive"">|</span> <a target="_blank" href="http://jaystack.com/company/terms_of_service">Terms of service</a></p>
                </li>
            </ul>
        </div>
        <div id="settingPageActionBar" class="metro-actionbar opened">
            <ul>
                <li class="icon-action add" data-bind="click: $data.addSetting"></li>
                <!--ko if: $data.data().isSupportedPurchase-->
                <li class="icon-action money" data-bind="click: $data.buyDatabase"></li>
                <li class="icon-action update last" data-bind="click: $data.refreshSettings"></li>
                <!--/ko-->
                <li class="icon-action question abs-right" data-bind="click: $data.toggleInfoBox"></li>
            </ul>
        </div>
        <div class="floating-box" onclick="$(this).removeClass('visible');">
            <span class="icon-mini fright">x</span>
            <h3>Need help?</h3>
            <p><span class="icon-action add"></span> Connect to repository</p>
            <p><span class="icon-action money"></span> Subscribe for an online repository</p>
            <p>If you need help please <a class="color-white" href="mailto:support@jaystack.com">contact us</a>!</p>

            <span class="tail-down">&nbsp;</span>
        </div>
    </script>
    <script type="text/html" id="repositories-subscription">
        <div id="settingPage" class="page-setting">
            <div class="icon-action back topleft" data-bind="click: $root.backView"></div>
            <div class="main-header with-back">
                <h1 class="title">Creating new repository</h1>
            </div>

            <div class="scroll-list pivot-default-opacity scrollable-list" id="addSettingScroller">
                <div class="scroller-list">
                    <div class="maxw768">
                        <!--ko ifnot: $data.data().subscriptionState() == 'finish'-->
                        <!--ko ifnot: $data.data().subscriptionState() == 'faild'-->
                        <h3 class="accent-color"><span class="ui-icon spin inline mini"></span>Repository creation is in progress</h3>
                        <p>It may take a few minutes please wait patiently or have a nice cup of coffee :)</p>

                        <!--ko if: $data.data().subscriptionState() == 'appStore'-->
                        <p>Creation in progress (step 1/3)</p>
                        <!--/ko-->
                        <!--ko ifnot: $data.data().subscriptionState() == 'appStore'-->
                        <p>Creation in progress (step 2/3)</p>
                        <!--/ko-->

                        <!--/ko-->
                        <!--/ko-->

                        <!--ko if: $data.data().subscriptionState() == 'finish'-->
                        <h3 class="accent-color"><span class="icon-action good mini"></span> successfull repository creation</h3>
                        <p>
                            Your repository has been created sucessfully!
                            <br />
                            Your repository url is: <b data-bind="text: $data.data().selectedSetting().Url()">http://testurl.com</b>
                        </p>
                        <p>Now you only have to connect to your repository, create users and invite your team members to get started!</p>

                        <!--ko with:$data.data().selectedSetting-->
                        <p class="btn-metro btn-large" data-bind="click: $parent.connectTo">Connect repositories</p>
                        <!--/ko-->
                        <!--/ko-->
                        <!--ko if: $data.data().subscriptionState() == 'faild'-->
                        <h3 class="accent-color"><span class="icon-action wrong mini"></span> Repository creation has failed!</h3>
                        <p>Please try it later, or contact us!</p>
                        <span class="btn-metro btn-large" data-bind="click: $data._goToRepository">Go to my repository</span>
                        <!--/ko-->
                    </div>
                </div>
            </div>
        </div>
    </script>
    <script type="text/html" id="setPasswordUI">
        <form data-bind="submit: savePassword">
            <div>
                <div class="error-msg" data-bind="text:validation"></div>
                <div class="control taleft">
                    <label for="password" data-bind="attr: { for: $index }">password:</label>
                    <input id="password" type="password" required="required" />
                </div>
                <div class="control taleft">
                    <label for="passwordagain">confirm password:</label>
                    <input id="passwordagain" type="password" required="required" />
                </div>
            </div>
            <div class="tacenter">
                <span class="iblock">
                    <input type="submit" class="icon-action save marginr10 fleft" value="" />
                    <span class="icon-action undo fleft" data-bind="click: close"></span>
                </span>
            </div>
        </form>
    </script>
    <script type="text/html" id="usersPage-template">
        <div id="settingPage" class="page-setting maxw768">
            <div class="icon-action back topleft" data-bind="click: $root.backView"></div>
            <div class="main-header">
                <h1 class="title">users</h1>
            </div>
            <div data-bind="jayGrid: { source: $data.data().collection, pageSize: 1000,
                                       fields: [{name:'Password', '$displayName':' '},'FirstName', 'LastName',  'Login'],
                                       defaultValues: { 'Groups': ['NTA2ZDViOTBiYWE3YWJjMTBkMDAwMDBk']}}">

                <div type="text/html" data-name-template="Password-editor" class="hide">
                    <!--<a href="#">&nbsp;</a>-->
                </div>
                <div type="text/html" data-name-template="Password-display" class="hide">
                    <span class="icon-action lock mini" data-bind="click: $data.showControls.bind({}, 'setPasswordUI', SetPasswordModel, $data)"></span>
                </div>
            </div>
        </div>
    </script>
    <!-- #endregion TEMPLATES -->

    <script type="text/javascript" src="scripts/libs/moment.js"></script>
    <script type="text/javascript" src="scripts/libs/knockout-2.2.1.debug.js"></script>

    <script type="text/javascript" src="scripts/libs/datajs-1.0.3-patched.js"></script>
    <script type="text/javascript" src="scripts/libs/jaydata.js"></script>
    <script type="text/javascript" src="scripts/jaydataproviders/SqLiteProvider.js"></script>
    <script type="text/javascript" src="scripts/jaydataproviders/oDataProvider.js"></script>

    <script type="text/javascript" src="scripts/jaydataproviders/InMemoryProvider.js"></script>
    <script type="text/javascript" src="scripts/jaydataproviders/IndexedDbProvider.js"></script>
    
    <script type="text/javascript" src="scripts/jaydatamodules/knockout.js"></script>
    <script type="text/javascript" src="scripts/jaydatamodules/qDeferred.js"></script>

    <script type="text/javascript" src="scripts/JayApp/FrameView.js"></script>
    <script type="text/javascript" src="scripts/JayApp/Frame.js"></script>
    <script type="text/javascript" src="scripts/JayApp/FrameApp.js"></script>
    <script type="text/javascript" src="scripts/frames/Main.js"></script>
    <script type="text/javascript" src="scripts/frames/ScrumWall.js"></script>
    <script type="text/javascript" src="scripts/frames/Repositories.js"></script>
    <script type="text/javascript" src="scripts/frames/Users.js"></script>
    <script type="text/javascript" src="scripts/frames/ThemeSettings.js"></script>
    <script type="text/javascript" src="scripts/frames/Projects.js"></script>
    <script type="text/javascript" src="scripts/frames/UserStories.js"></script>
    <script type="text/javascript" src="scripts/frames/Sprints.js"></script>
    <script type="text/javascript" src="scripts/RepositoryContext.js"></script>
    <script type="text/javascript" src="scripts/IScroll/iscroll.js"></script>
    <script type="text/javascript" src="scripts/IScroll/swipeview.js"></script>
    <script type="text/javascript" src="scripts/libs/mobiscroll-2.0.2.custom.min.js"></script>
    <script type="text/javascript" src="scripts/flotr2/flotr2.js"></script>
    <script type="text/javascript" src="scripts/burndown.js"></script>
    <script type="text/javascript" src="scripts/userEditor/jaygrid-table-template.js"></script>
    <script type="text/javascript" src="scripts/userEditor/jaygrid.js"></script>

    <script type="text/javascript" src="scripts/init.js"></script>
    <script type="text/javascript" src="scripts/scrum.js"></script>

    <script type="text/html" id="jayAppMenu">
        <div>
            <span>menu: <i data-bind="text: $data.framePath"></i></span>
            <br />
            <ul data-bind="foreach: $data.frameContainer">
                <!--ko template: {name: $data.selectedMetaView().templateName, data:$data.data}-->
                <!--/ko-->
            </ul>
            <br />
        </div>
    </script>
    <script type="text/html" id="jayAppMetaDefault">
        <li data-bind="text: $data.name"></li>
    </script>
    <script type="text/html" id="jayAppContent">
        <!--ko if: $data.selectedFrame()-->
        <!--ko template: {name: $data.selectedFrame().selectedView().templateName, data:$data.selectedFrame()}-->
        <!--/ko-->
        <!--/ko-->
    </script>
    <script type="text/html" id="alma">
        <div data-bind="text:$data.data().name">alma</div>
    </script>

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-30304727-7']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>
